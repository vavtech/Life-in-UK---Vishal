<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Vishal's Preparation Style</title>

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Google Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Inter", sans-serif;
        margin: 0;
        padding: 40px;
        background: #f5f7fa;
        color: #333;
        display: flex;
        justify-content: center;
      }

      .container {
        width: 100%;
        max-width: 900px;
      }

      h2 {
        font-weight: 600;
        margin-bottom: 25px;
        text-align: center;
      }

      /* Global Search */
      #globalSearch {
        width: 100%;
        padding: 12px;
        border-radius: 8px;
        border: 1px solid #ccc;
        margin-bottom: 25px;
        font-size: 15px;
      }

      /* Category Buttons */
      .btn-container {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        margin-bottom: 25px;
        justify-content: center;
      }

      button.category-btn {
        padding: 10px 18px;
        cursor: pointer;
        border: none;
        background-color: #e3e8ef;
        color: #333;
        border-radius: 8px;
        font-size: 15px;
        transition: 0.25s;
        font-weight: 500;
      }

      button.category-btn:hover {
        background-color: #d0d7e1;
        transform: translateY(-2px);
      }

      button.category-btn.active {
        background-color: #007bff;
        color: white;
        box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3);
      }

      /* Table Card */
      #table-container {
        background: white;
        padding: 25px;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        opacity: 0;
        transform: translateY(10px);
        transition: 0.4s ease;
      }

      #table-container.visible {
        opacity: 1;
        transform: translateY(0);
      }

      /* Tag Chips */
      .tag-chip {
        padding: 8px 14px;
        background: #e3e8ef;
        border-radius: 20px;
        cursor: pointer;
        font-size: 14px;
        transition: 0.25s;
      }

      .tag-chip:hover {
        background: #d0d7e1;
      }

      .tag-chip.active {
        background: #119b3a;
        color: white;
        box-shadow: 0 3px 10px rgba(0, 123, 255, 0.3);
      }

      .tag-chip-container {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom: 15px;
      }

      /* Table */
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
      }

      th,
      td {
        border-bottom: 1px solid #eee;
        padding: 12px;
        text-align: left;
      }

      th {
        background-color: #f0f4f8;
        font-weight: 600;
      }

      tr:hover {
        background-color: #fafafa;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h2>
        Notes Viewer
        <span style="color: #526066; font-size: 12px"
          >(© 2026 vishal — All rights reserved)</span
        >
      </h2>

      <!-- GLOBAL SEARCH -->
      <input
        type="text"
        id="globalSearch"
        placeholder="Search across all categories..."
      />

      <!-- CATEGORY BUTTONS -->
      <div class="btn-container" id="buttons"></div>

      <!-- TABLE OUTPUT -->
      <div id="table-container"></div>
    </div>

    <script>
      const data = [
        {
          People: [
            {
              key: "Lewis Hamilton, Jenson Button, Damon Hill",
              explanation: "Formula 1 World Champions from the UK.",
              tags: ["sports"],
            },
            {
              key: "David Hume",
              explanation: "Ideas about human nature in 18th century",
              tags: ["Philosophy"],
            },
            {
              key: "Sir Anthony Hopkins",
              explanation: "A British actor and director won an Oscar",
              tags: ["prize"],
            },
            {
              key: "Andrew Lloyd Webber",
              explanation:
                "wrote music for popular show Jesus Christ Superstar",
              tags: ["movies"],
            },
            {
              key: "Admiral Nelson",
              explanation:
                "Incharge of the British Navy at the Battle of Trafalgar in 1805 and died in the battle.",
              tags: ["battle"],
            },
            {
              key: "Mike Newell",
              explanation:
                "Directed the film 'Four Weddings and a Funeral' in 1994.",
              tags: ["movies"],
            },
            {
              key: "Dame Agatha Christie",
              explanation: "Murder mystery writer 'The MouseTrap'",
              tags: ["movies"],
            },
            {
              key: "Charles II",
              explanation:
                "King of Scotland & led a scottish army into England. Cromwell defeated him in the battle of Dunbar & Worcester.",
              tags: ["battle"],
            },
            {
              key: "Sir Walter Scott",
              explanation:
                "Scottish author and poet, known for works like 'Ivanhoe' and 'Rob Roy'.",
              tags: ["literature"],
            },
            {
              key: "Edward VI",
              explanation: "Died at the age of 15, after ruling for 6 years",
              tags: ["history"],
            },
            {
              key: "Dame Ellen MacArthur",
              explanation:
                "fastest person to sail solo around the world single handed",
              tags: ["sports"],
            },
            {
              key: "Francis Crick",
              explanation:
                "Awarded the Nobel Prize in Physiology or Medicine in 1962 for his work on the structure of DNA.",
              tags: ["prize"],
            },
            {
              key: "Sir Jackie Stewart",
              explanation: "Three-time Formula 1 World Champion from Scotland.",
              tags: ["sports"],
            },
            {
              key: "Sir Jackie Stewart",
              explanation: "Three-time Formula 1 World Champion from Scotland.",
              tags: ["sports"],
            },
            {
              key: "Colin Firth, Sir Anthony Hopkins, Dame Judi Dench, Kate Winslet, Tilda Swinton",
              explanation: "Actors who won an Oscar from the UK.",
              tags: ["prize"],
            },
            {
              key: "Mary Peters",
              explanation:
                "won olympic gold medal in the pentathlon for Northern Ireland in 1972",
              tags: ["prize"],
            },
            {
              key: "David Lean",
              explanation:
                "directed films - 'Lawrence of Arabia' and 'Brief Encounter'",
              tags: ["movies"],
            },
            {
              key: "Sir Alfred Hitchcock",
              explanation:
                "Important british film director known for suspense and psychological thrillers like 'Psycho' and 'The Birds'.",
              tags: ["movies"],
            },
            {
              key: "John McLeod",
              explanation:
                "Scottish physician & researcher who co-discovered insulin.",
              tags: ["science"],
            },
            {
              key: "Winston Churchill",
              explanation:
                "Greatest briton of all time as per a BBC poll in 2002.",
              tags: ["history"],
            },
            {
              key: "JRR Tolkien",
              explanation:
                "Writer of 'The Lord of the Rings' and 'The Hobbit'.",
              tags: ["movies"],
            },
            {
              key: "Jayne Torvill and Christopher Dean",
              explanation:
                "Won gold medals for Great Britain in ice dancing at the 1984 Winter Olympics. It is one of the Britain's greatest Olympic achievements.",
              tags: ["prize"],
            },
            {
              key: "Sir Christopher Wren",
              explanation:
                "Architect who designed St. Paul's Cathedral in London after the Great Fire of London in 1666.",
              tags: ["history"],
            },
            {
              key: "King Henry V",
              explanation:
                "King of England who led the English army to victory at the Battle of Agincourt in 1415.Defeated a much larger French army during the Hundred Years' War.",
              tags: ["battle"],
            },
            {
              key: "Sir Robert Walpole",
              explanation:
                "Prime minister of britain frm 1721 to 1742, considered the first prime minister of Great Britain.",
              tags: ["history"],
            },
            {
              key: "Hugh Hudson",
              explanation: "directed movie 'Chariots of Fire' in 1981",
              tags: ["movies"],
            },
            {
              key: "Evelyn Waugh",
              explanation: "wrote satirical novel 'Brideshead Revisited'",
              tags: ["movies"],
            },
            {
              key: "Nick Park",
              explanation:
                "Won 4 oscars for his animated films including 'Wallace and Gromit' series.",
              tags: ["prize"],
            },
            {
              key: "Keith Campbell and Ian Wilmut",
              explanation: "Scientists who cloned Dolly the sheep in 1996.",
              tags: ["science"],
            },
            {
              key: "John Logie Baird",
              explanation:
                "Inventor of the mechanical television system in the 1920s.",
              tags: ["science"],
            },
            {
              key: "David Cameron",
              explanation:
                "Prime minister after the 2010 general election, resulted in no overall majority for any party, leading to a coalition government between the Conservative",
              tags: ["history"],
            },
            {
              key: "Emmeline Pankhurst",
              explanation:
                "In 1889, set up the women's franchise league, which fought to get vote in local elections for married women",
              tags: ["history"],
            },
          ],
        },
        {
          Population: [
            {
              key: "50 million",
              explanation: "The population of the United Kingdom in 1951.",
              tags: ["1951"],
            },
            {
              key: "8 million",
              explanation: "The population of the United Kingdom in 1801.",
              tags: ["1801"],
            },
            {
              key: "37.5 %",
              explanation: "2021 census, people said they had no religion",
              tags: ["2021"],
            },
            {
              key: "0.5 %",
              explanation: "2021 census, people said they are Jewish",
              tags: ["2021"],
            },
            {
              key: "Less than 0.6 %",
              explanation: "2021 census, people said they are Buddhist",
              tags: ["2021"],
            },
            {
              key: "46.2 %",
              explanation: "2021 census, people said they are Christian",
              tags: ["2021"],
            },
          ],
        },
        {
          Courts: [
            {
              key: "The Crown Court",
              explanation:
                "Serious criminal offences in England, Wales and Northern Ireland are tried here.",
              tags: ["crown court"],
            },
            {
              key: "The Sheriff Court",
              explanation:
                "Serious criminal offences in Scotland are tried here.",
              tags: ["sheriff court"],
            },
            {
              key: "The Youth Court",
              explanation:
                "Cases of children and young people (aged 10 to 17) are tried here.",
              tags: ["youth court"],
            },
            {
              key: "The Magistrates' Court",
              explanation:
                "Minor criminal offences are tried here in England, Wales and Northern Ireland.",
              tags: ["magistrates court"],
            },
            {
              key: "The Sheriff Court",
              explanation:
                "Personal injury, family matters, breaches of contract & divorce are tried here in Scotland.",
              tags: ["sheriff court"],
            },
          ],
        },
        {
          Others: [
            {
              key: "Pan cake day, Shrove Tuesday",
              explanation:
                "The day before Lent begins, traditionally celebrated by eating pancakes.",
              tags: ["tradition"],
            },
            {
              key: "AM's or Assembly Members",
              explanation:
                "Name given to members of the Welsh Parliament (Senedd Cymru).",
              tags: ["general knowledge"],
            },
            {
              key: "More than 190 countries",
              explanation: "Are memmbers of united nations",
              tags: ["general knowledge"],
            },
            {
              key: "More than 2 million people",
              explanation: "british casualties in world war 1",
              tags: ["history"],
            },
            {
              key: "33",
              explanation: "local authorities in London",
              tags: ["general knowledge"],
            },
            {
              key: "Kew Gardens, Sissinghurst, Hidcote",
              explanation: "Gardens in England",
              tags: ["gardens"],
            },
            {
              key: "Crathes castle, Inverary castle",
              explanation: "Gardens in Scotland",
              tags: ["gardens"],
            },
            {
              key: "Bodnant Gardens",
              explanation: "Garden in Wales",
              tags: ["gardens"],
            },
            {
              key: "Mount Stewart",
              explanation: "Garden in Northern Ireland",
              tags: ["gardens"],
            },
            {
              key: "Harrier Jump Jet",
              explanation:
                "british invention, a military aircraft that can take off and land vertically. in 20th century",
              tags: ["science"],
            },
            {
              key: "The Act of Union",
              explanation:
                "In 1801, the Kingdom of Great Britain and the Kingdom of Ireland merged to form the United Kingdom of Great Britain and Ireland.",
              tags: ["history"],
            },
            {
              key: "Peers",
              explanation: "Name given to the menbers of the House of Lords.",
              tags: ["general knowledge"],
            },
            {
              key: "MPs",
              explanation: "Name given to the menbers of the House of Commons.",
              tags: ["general knowledge"],
            },
            {
              key: "3 volunteers",
              explanation: "when national trust was founded in 1895",
              tags: ["history"],
            },
            {
              key: "20 Senior MPs",
              explanation:
                "are appointed to the House of Lords by the Prime Minister to help with parliamentary work.",
              tags: ["general knowledge"],
            },
            {
              key: "Mozambique",
              explanation: "country belong to commonwealth",
              tags: ["general knowledge"],
            },
            {
              key: "Elizabeth Tower",
              explanation:
                "name given to the clock tower at the houses of parliament in honor of queen elizabeth II's diamond jubilee in 2012. commonly known as big ben.",
              tags: ["general knowledge"],
            },
            {
              key: "108",
              explanation: "members are in northern ireland assembly",
              tags: ["general knowledge"],
            },
            {
              key: "The Monarch",
              explanation:
                "is the head of church of england and the head of state in the UK.",
              tags: ["general knowledge"],
            },
          ],
        },
        {
          Years: [
            {
              key: "1976",
              explanation: "Concorde, began carrying passengers.",
              tags: ["science"],
            },
            {
              key: "18th Century",
              explanation: "Scottish people leave for North America.",
              tags: ["history"],
            },
            {
              key: "2009",
              explanation: "british combat troops left iraq",
              tags: ["history"],
            },
            {
              key: "1999",
              explanation: "scottish parliament formed",
              tags: ["history"],
            },
            {
              key: "1889",
              explanation:
                "Emmeline Pankhurst set up the women's franchise league, which fought to get vote in local elections for married women",
              tags: ["history"],
            },
            {
              key: "1903",
              explanation:
                "Women's Social and Political Union (WSPU) founded by Emmeline Pankhurst in Manchester",
              tags: ["history"],
            },
            {
              key: "19th Century",
              explanation: "Rugby football invented in England.",
              tags: ["sports"],
            },
            {
              key: "July",
              explanation:
                "Anniversary of the Battle of the Boyne, celebrated in Northern Ireland.",
              tags: ["history"],
            },
            {
              key: "In late 19th Century",
              explanation: "Modern tennis evolved in England.",
              tags: ["sports"],
            },
            {
              key: "1485",
              explanation:
                "War of Roses ended with the Battle of Bosworth Field.",
              tags: ["history"],
            },
            {
              key: "1982",
              explanation:
                "Argentina invaded the Falkland Islands, leading to the Falklands War.",
              tags: ["history"],
            },
            {
              key: "1945",
              explanation:
                "Alexander Fleming discovered penicillin and won the Nobel Prize.",
              tags: ["prize"],
            },
            {
              key: "23rd April",
              explanation: "St. George's Day, the national day of England.",
              tags: ["history"],
            },
            {
              key: "2008",
              explanation:
                "Forced Marriage (Civil Protection) Act passed in England, Wales and Northern Ireland to protect individuals from being forced into marriage against their will.",
              tags: ["history"],
            },
            {
              key: "1284",
              explanation:
                "King Edward I of England issued the Statute of Rhuddlan, which established English rule over Wales after its conquest.",
              tags: ["history"],
            },
            {
              key: "2007",
              explanation:
                "Gordon Brown became Prime Minister of the United Kingdom, succeeding Tony Blair.",
              tags: ["history"],
            },
            {
              key: "1918",
              explanation:
                "were women over the age of 30 given the right to vote in the UK",
              tags: ["history"],
            },
          ],
        },
        {
          Flags: [
            {
              key: "Red cross on a white background",
              explanation: "St George, England",
              tags: ["England"],
            },
            {
              key: "White Cross on a blue background",
              explanation: "St. Andrew, Scotland",
              tags: ["Scotland"],
            },
          ],
        },
      ];

      const btnContainer = document.getElementById("buttons");
      const tableContainer = document.getElementById("table-container");
      const globalSearch = document.getElementById("globalSearch");

      let tagsVisible = true;
      let currentRows = [];
      let currentCategory = null;

      // Create category buttons
      data.forEach((item) => {
        const key = Object.keys(item)[0];
        const btn = document.createElement("button");
        btn.textContent = key;
        btn.className = "category-btn";

        btn.onclick = () => {
          document
            .querySelectorAll(".category-btn")
            .forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");
          currentCategory = key;
          currentRows = item[key];
          showCategoryTable(key, currentRows);
        };

        btnContainer.appendChild(btn);
      });

      // GLOBAL SEARCH — searches across all categories
      globalSearch.oninput = () => {
        const query = globalSearch.value.trim().toLowerCase();

        if (query === "") {
          if (currentCategory) {
            showCategoryTable(currentCategory, currentRows);
          } else {
            tableContainer.innerHTML = "";
          }
          return;
        }

        const results = [];

        data.forEach((item) => {
          const category = Object.keys(item)[0];
          item[category].forEach((row) => {
            const text = `${row.key} ${row.explanation} ${row.tags.join(
              " "
            )}`.toLowerCase();
            if (text.includes(query)) {
              results.push({ ...row, category });
            }
          });
        });

        showSearchResults(results);
      };

      // Show table for a single category
      function showCategoryTable(title, rows) {
        const uniqueTags = [...new Set(rows.flatMap((r) => r.tags))];

        let html = `
      <div class="d-flex justify-content-end">
        <div class="form-check form-switch mb-3">
          <input class="form-check-input" type="checkbox" id="toggleTagsSwitch" checked>
          <label class="form-check-label" for="toggleTagsSwitch">Show Tags</label>
        </div>
      </div>

      <h3 style="margin-bottom: 3rem">${title}</h3>

      <div class="tag-chip-container">
        <span class="tag-chip active" data-tag="ALL">Show All</span>
    `;

        uniqueTags.forEach((tag) => {
          html += `<span class="tag-chip" data-tag="${tag}">${tag}</span>`;
        });

        html += `</div>`;

        html += `
      <table id="dataTable">
        <tr>
          <th>Key</th>
          <th>Explanation</th>
          <th class="tags-col">Tags</th>
        </tr>
    `;

        rows.forEach((r) => {
          html += `
        <tr>
          <td>${r.key}</td>
          <td>${r.explanation}</td>
          <td class="tags-col">${r.tags.join(", ")}</td>
        </tr>
      `;
        });

        html += "</table>";

        tableContainer.innerHTML = html;
        tableContainer.classList.add("visible");

        document.getElementById("toggleTagsSwitch").onchange = () => {
          tagsVisible = document.getElementById("toggleTagsSwitch").checked;
          applyTagsVisibility();
        };

        document.querySelectorAll(".tag-chip").forEach((chip) => {
          chip.onclick = () => filterByTag(chip.dataset.tag);
        });

        applyTagsVisibility();
      }

      // Show unified search results
      function showSearchResults(results) {
        let html = `
      <div class="d-flex justify-content-end">
        <div class="form-check form-switch mb-3">
          <input class="form-check-input" type="checkbox" id="toggleTagsSwitch" checked>
          <label class="form-check-label" for="toggleTagsSwitch">Show Tags</label>
        </div>
      </div>

      <h3>Search Results</h3>

      <table id="dataTable">
        <tr>
          <th>Key</th>
          <th>Explanation</th>
          <th class="tags-col">Tags</th>
          <th>Category</th>
        </tr>
    `;

        results.forEach((r) => {
          html += `
        <tr>
          <td>${r.key}</td>
          <td>${r.explanation}</td>
          <td class="tags-col">${r.tags.join(", ")}</td>
          <td>${r.category}</td>
        </tr>
      `;
        });

        html += "</table>";

        tableContainer.innerHTML = html;
        tableContainer.classList.add("visible");

        document.getElementById("toggleTagsSwitch").onchange = () => {
          tagsVisible = document.getElementById("toggleTagsSwitch").checked;
          applyTagsVisibility();
        };

        applyTagsVisibility();
      }

      // Toggle Tags Column
      function applyTagsVisibility() {
        const tagCells = document.querySelectorAll(".tags-col");
        const switchLabel = document.querySelector(
          "label[for='toggleTagsSwitch']"
        );

        tagCells.forEach((cell) => {
          cell.style.display = tagsVisible ? "table-cell" : "none";
        });

        if (switchLabel) {
          switchLabel.textContent = tagsVisible ? "Show Tags" : "Hide Tags";
        }
      }

      // Tag Filter
      function filterByTag(tag) {
        document
          .querySelectorAll(".tag-chip")
          .forEach((c) => c.classList.remove("active"));
        document
          .querySelector(`.tag-chip[data-tag="${tag}"]`)
          .classList.add("active");

        const rows = document.querySelectorAll(
          "#dataTable tr:not(:first-child)"
        );

        rows.forEach((row) => {
          const tags = row.children[2].innerText
            .split(",")
            .map((t) => t.trim());
          row.style.display = tag === "ALL" || tags.includes(tag) ? "" : "none";
        });
      }
    </script>
  </body>
</html>
